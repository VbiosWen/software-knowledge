1. 二阶段提交协议
 阶段一 (投票阶段):
   提交事务请求:
    1. 事务询问 协调者向所有参与者发送事务内容,询问是否可以执行事务提交操作,并开始等待各个参与者的响应,协调者阻塞
    2. 执行事务 各个参与者执行事务,并将事务操作写入 undo 和 redo 日志中
    3. 各参与者反馈事务询问的响应 如果参与者成功执行了事务,则返回 yes,反之返回 no
    协调者->提交事务-> 参与者 -> 执行事务,写入 undo 和 redo log -> 参与者反馈事务询问的响应 成功-> yes 失败->no
 阶段二 (执行阶段):
   执行事务请求(如果所有参与者都返回 yes,则执行事务提交):
    1. 发送提交请求 协调者向各个参与者发送 commit 请求
    2. 事务提交,各个参与者在接收到 commit 请求后,正式执行事务提交操作,并在完成之后释放整个在事务操作期间占用的事务资源
    3. 反馈事务提交结果 参与者在完成事务提交之后,向协调者发送 ack消息
    4. 完成事务 协调者在接收到所有参与者的 ack 消息后,完成事务操作.
    协调者-> 提交执行事务请求 -> 参与者接收到 commit 请求后->执行事务提交-> 释放资源-> 反馈结果 ack 给协调者->协调者完成事务操作
 异常(中断事务):
   假如任何一个参与者在规定时间内未响应,或者响应了 no,或者协调者无法获取到所有的参与者的响应,就会中断事务
   1. 发送回滚请求 协调者向所有参与者发送 rollback 请求
   2. 事务回滚 参与者在接收到 rollback 请求后会利用其在阶段一中记录的 undolog 来执行事务回滚操作,并在完成回滚后释放事务所占用的资源
   3. 反馈事务回滚结果 参与者在事务回滚之后发送 ack 消息.
   4. 中断事务 协调者接收到所有的参与者发送的 ack 消息后,中断事务.