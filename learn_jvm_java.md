- ### 1.JMM 内存模型
  - 1.1 java 内存模型的主要目标是定义程序中各个变量的访问规则,即在虚拟机中将变量存储到内存中和从内存中取出变量这样的底层细节.此处的变量是指实例字段,静态字段和构成数组对象的元素,但不包括局部变量与方法参数.因为后者是线程私有的,不会被共享.
    - 1. java 内存模型规定了所有的变量都存储在主内存中.每条线程都有自己的工作内存,线程的工作内存中保存了被该线程使用到的变量的主内存的副本拷贝,线程对变量的所有操作(读取,赋值) 都必须在工作内存中完成.而不能直接读写主内存中的变量.不同线程间的工作内存相互隔离.线程间变量值的传递均需要在主内存中完成.
    - 2. **内存间交互操作** 关于主内存与工作内存之间的具体的交互协议,即一个变量从主内存拷贝到工作内存,如何从工作内存中同步到主内存之类的实现细节,java 内存模型中定义了 8 中操作来完成.虚拟机在实现时必须保证下面提及的每一种操作的原子性,不可再分性.
      - 1. lock(锁定) 作用于主内存中,它把一个变量标识为一个线程独占状态.
      - 2. unlock(解锁) 作用于主内存中,它把一个锁定状态的变量释放出来,释放后的变量才可以被其他线程锁定.
      - 3. read(读取) 作用于主内存中的变量,它把一个变量的值从主内存中传输到线程的工作内存中,以便随后的 load 使用
      - 4. load(载入) 作用于工作内存的变量,它把 read 操作从主内存中得到的变量值放入工作内存的变量副本中.
      - 5. use(使用) 作用于工作内存的变量,它把工作内存中的一个变量的值传递给执行引擎,每当虚拟机遇到一个需要使用到变量的值的字节码指令时将会执行这个操作.
      - 6. assign(赋值) 作用于工作内存中的变量,它把一个从执行引擎接收到的值赋给工作内存的变量.每当虚拟机遇到一个给变量赋值的字节码指令时执行这个操作.
      - 7. store(存储) 作用于工作内存的变量,它把工作内存中的一个变量的值传送到主内存中,以便随后的 write 操作使用.
      - 8. write(写入) 作用于主 内存的变量,它把 store 操作从工作内存中得到的变量的值放入主内存的变量中.
  - 1.2 volatile 关键字 根据 jmm 模型,volatile 关键词保证了其在各个工作内存的可见性,如果一个线程的工作内存中修改了 volatile 修饰的变量,那么变量会立即同步到主内存中,然后主内存会通知其他持有这个变量副本的工作内存去更新.



alter table 